<!DOCTYPE html>
<html>
 <head>
  <meta charset="UTF-8">
  <title>OSCA Survey</title>
  <!--links for vanilla app-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="/font-awesome-4.7.0/css/font-awesome.min.css">
  <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> -->
  <script type = "text/javascript" src="/javascript.js"></script>
  <link rel="stylesheet"  href="/stylesheet.css" type="text/css">
 </head>
 <body> 
  <header>Here is where a logo or other nice looking stuff goes </header>
  <p> This is where the instructions can be written</p>
 

  <form id= "submitter"> 
  <div class = "form-group">
  <div class = "container-fluid p-3 my-3 border">
		<fieldset>
			<legend> 2020 Profile </legend>
      <h2> Problem Solving Court Site Information </h2>
	  
	  <!-- Select Circuit -->
 
    <div class = "form-group required border">
      <label class= "control-label" for="Circuit">Court Circuit  </label>
        <select class= "form-control col-lg-3" name="circuit" id="c-circuit" required>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10">10</option>
          <option value="11">11</option>
          <option value="12">12</option>
          <option value="13">13</option>
          <option value="14">14</option>
          <option value="15">15</option>
          <option value="16">16</option>
          <option value="17">17</option>
          <option value="18">18</option>
          <option value="19">19</option>
          <option value="20">20</option>
        </select>
    </div>   
  
      
		<!-- Select PSC Type -->
    <div class = "form-group required border">
      <label class = "control-label" for="PSC-type">What type of problem-solving court is your site?</label>
        <select class = "form-control col-lg-3" name="psctype" id="PSC-type"  onchange="otherCourtType(this.value)" required>
          <option value="Adult Drug Court">Adult Drug Court</option>
          <option value="Mental Helath Court">Mental Health Court</option>
          <option value="Veterans Court">Veterans Court</option>
          <option value="Early Childhood Court">Early Childhood Court</option>
          <option value="DUI Court">DUI Court</option>
          <option value="Juvenile Drug Court">Juvenile Drug Court</option>
          <option value="Family Dependency Drug Court">Family Dependency Drug Court</option>
          <option value="None of these" >None of these</option>
        </select>
    </div>
    <div class = "form-group required border">
      <label> If your problem-solving court type is not listed above please type it here: </label>
        <input class = "form-control col-lg-3" id = "othertype" type = "text" name = "otherpsc" size = "30" maxlength = "100">
    </div>
	  
	  <!-- Felony/Misdemeanor -->
    <div class = "form-group required border">
      <label class= "control-label"> What level of charge does your court accept? </label>
      <div class = "form-check col-lg-3">
        <input name = "levelofcharge-misd" id = "chargemisd" type = "checkbox"  value = "Misdemeanor" required onchange="loqReqCheck()" >
        <label for = "Misdemeanor"> Misdemeanor </label>
        <br>
        <input type = "checkbox" id = "chargefel" name = "levelofcharge-fel" value = "Felony" required onchange="loqReqCheck()">
        <label for = "Felony"> Felony </label>
        <br>
        <input type = "checkbox" id ="chargena" name = "levelofcharge-na" value = "NA" required onchange= "loqReqCheck()">
        <label for = "NA"> This does not apply to my problem-solving court type </label>
      </div>
    </div>
    
	  
	  <!-- Case Processing -->
    <div class = "form-group required border">
      <label class ="control-label"> How are cases processed? </label>
      <div class = "form-check col-lg-3">
        <input type = "checkbox" name = "caseProcesss-pretrial" id= "cppretrial" value = "Pre-trial" required onchange= "caseProcCheck()">
        <label for = "Pre-trial"> Pre-trial </label>
        <br>
        <input type = "checkbox"  name = "caseProcesss-preplea" id = "cppreplea" value = "Pre-plea" required onchange= "caseProcCheck()">
        <label for = "Pre-plea"> Pre-plea </label>
        <br>
        <input type = "checkbox" name = "caseProcesss-postplea" id = "cppostplea" value = "Post-plea" required onchange= "caseProcCheck()">
        <label for = "Post-plea"> Post-plea </label>
        <br>
        <input type = "checkbox"  name = "caseProcesss-preadj"  id = "cppreadj" value = "Pre-adjudication" required onchange= "caseProcCheck()">
        <label for = "Pre-adjudication"> Pre-adjudication </label>
        <br>
        <input type = "checkbox" name = "caseProcesss-postadh"  id = "cppostadj" value = "Post-adjudication" required onchange= "caseProcCheck()">
        <label for = "Post-adjudication"> Post-adjudication </label>
        <br>
        <input type = "checkbox" name = "caseProcesss-na" id = "cpna" value = "NA" requied onchange= "caseProcCheck()">
        <label for = "NA"> This does not apply to my problem-solving court type </label>
      </div>
    </div>

    	<!-- Implementation Date-->
    <div class= "form-group required border">
      <label class ="control-label">Implementation Date</label>
        <input  class = "form-control col-lg-3" type ="date" id = "impdate" name = "implementationdate"  required>
 
    </div>
  </div>
   	
	<!-- Point of Contact -->
  <h2> Contact Information </h2>
  <div class = "container-fluid p-3 my-3 border"">
  
    <div class = "form-group border">
      <h3>Primary Contact Information</h3>
      <div class = "form-group ">
        <label> Name:
          <input  class = "form-control" type = "text" id ="primname" name = "primaryname" size = "30" maxlength= "100" required>
        </label>
      </div>
      <div class = "form-group">
        <label> Street Address:
          <input  class = "form-control" type = "text" id = "primadd"name = "primaryaddress" size = "30" maxlength= "100" required>
        </label>
      </div>
      <div class = "form-group">
        <label> City:
          <input class = "form-control"  type = "text" id = "primcity" name = "primarycity" size = "30" maxlength= "100" required>
        </label>
        <label> Zip Code:
          <input  class = "form-control"  type = "text" id = "primzip" name = "primaryzipcode" size = "20" maxlength= "5" required>
        </label>
      </div>
      <div class = "form-group">
        <label> Phone Number:
          <input class = "form-control" type = "tel" name = "primaryphone" id = "primaryphone" size = "30" maxlength= "100" required>
        </label>
        <label>E-mail Address:
          <input  class = "form-control" type = "email" name = "primaryemail"  id = "primaryemail" = "30" maxlength= "100" required >
        </label>
      </div>
    </div>

    
      
	  
	  <!-- Judge Contact -->
    <div class = "form-group border">
      <h3> Presiding Judge/Magistrate Information </h3>
      <div class = "form-group">
        <label> Name:
          <input class = "form-control" id = "jname"" type = "text" name = "judgename" size = "30" maxlength= "100" required>
        </label>
      </div>
      <div class = "form-group">
        <label> Street Address:
          <input  class = "form-control" id = "jad"type = "text" name = "judgeaddress" size = "30" maxlength= "100" required>
        </label>
      </div>

      <div class = "form-group">
        <label> City:
          <input  class = "form-control" id= "jcity" type = "text" name = "judgecity" size = "30" maxlength= "100" required>
        </label>
        <label> Zip Code:
          <input  class = "form-control" type = "text" id = "judgezip" name = "judgezipcode" size = "20" maxlength= "5" required >
        </label>
      </div>
      <div class = "form-group">
        <label> Phone Number:
          <input  class = "form-control" type = "tel" name = "judgephone" id = "judgephone" size = "30" maxlength= "100" required>
        </label>
      
        <label> E-mail Address:	
          <input class = "form-control"  type = "email" name = "judgeemail"  id = "judgeemail" size = "30" maxlength= "100" required>
        </label>
      </div>
    </div>
  
     
		
		
		<!--Does this court accept transfers, needs data validation to work with next few steps -->
   
    <div class ="container-fluid p-3 my-3 border"">
        <h2> Transfer Information</h2>
        <div class = "form-group border">
          <label> Does this court accept transfers?
            <div class= "form-check">
                <input class ="form-check-input" type = "radio" id ="transferyes"  name = "transfercheck"  value = "Accepts Transfers" onchange = "checkTransfer(this.value)">
              <label for = "yes"> This court accepts transfers </label>
                <br>
                <input class = "form-check-input" type = "radio" id= "transferno" name = "transfercheck" value = "Does not Accept Transfers" onchange = "checkTransfer(this.value)">
                <label for = "No"> This court does not accept transfers </label>
            </div>
          </label>
            
        </div>
      
      <!-- Designee for Transfers -->
      <div class = "form-group border">
    
          <h3> Designee For Handling Transfers </h3>
          <label name = "dnlabel"> Name:
            <input  class = "form-control" type = "text" id = "designeename" name = "designeename"  size = "30" maxlength= "100" required >
          </label>
          <label> Street Address:
            <input class = "form-control" class = "reqdep" type = "text"  id ="designeeaddress" name = "designeeaddress" size = "30" maxlength= "100" required>
          </label>
          <label> City:
            <input  class = "form-control" type = "text"  id = "designeecity"  name = "designeecity" size = "30" maxlength= "100" required>
          </label>
          <label> Zip Code:
            <input  class = "form-control" type = "text"  id = "designeezip" name = "designeezipcode" size = "20" maxlength= "5" required>
          </label>
    
          <label> Phone Number:
            <input class = "form-control" type = "tel"   name = "designeephone" id = "designeephone" size = "30" maxlength= "100" required>
          </label>
          <label> E-mail Address:
            <input class = "form-control" type = "email" c name = "designeeemail" id = "designeeemail" size = "30" maxlength= "100" required>
          </label>
      </div>
        
        <div class = "form-check">
          <label class = "redep"> Designee Contact does not apply
            <input  type = "checkbox"  name = "designeena" id = "designeena" onchange = "checkDesignee()">
        </div>
        </label>


      
      <!-- Clerk of Court Transfer Information-->
      <div class = "form-group border">
          <h3> Clerk of Court Contacts For Transfers </h3>
          <label name = "cocnamelabel"> Name:
            <input  class = "form-control" type = "text" id = "cocname" name = "cocname" size = "30" maxlength= "100" required >
          </label>
          <label> Street Address:
            <input  class = "form-control" type = "text" id ="cocaddress"  name = "cocaddress" size = "30" maxlength= "100" required>
          </label>
          <label> City:
            <input  class = "form-control" type = "text"  id = "coccity" name = "coccity" size = "30" maxlength= "100" required >
          </label>
          <label> Zip Code:
            <input class = "form-control" type = "text" id = "coczip" name = "coczipcode" size = "20" maxlength= "5" required>
          </label>
          <label> Phone Number:
            <input class = "form-control"  type = "tel"  name = "cocphone" id = "cocphone" size = "30" maxlength= "100" required>
          </label>
          <label> E-mail Address:
            <input  class = "form-control" type = "email"  name = "cocemail" id = "cocemail" size = "30" maxlength= "100" required>
          </label>
      
        <div class = "form-check">
          <label> Clerk of Court Contact does not apply
            <input  type = "checkbox"  name = "cocna" id = "cocna" onchange = "checkCoc()">
          </label>
        </div>
      </div>
    
    <div class = "form-group border">
      <!-- Transfer Criteria -->		
        <h3> Transfer Criteria</h3>
          <textarea  class= "form-control" " id = "transfercriteria"  rows = "10" name = "transfercriteria" required> </textarea>
    </div>
  </div>

  

	<h3>Problem-Solving Court Criteria, Requirements, and Procedures</h3>	
  <div class = "container-fluid p-3 my-3 border"">
	  <!-- Eligibility Criteria -->
    <div class = "form-group border">
      <label> Eligibility Criteria </label> 
      <textarea class = "form-control" id= "eligibilitycriteria" type = text name = "eligibilitycriteria" rows= "10" required> </textarea>
    </div>
	  <!-- Program Requirements -->
    <div class = "form-group border">
	    <label> Program Requirements </label>
      <textarea class = "form-control" id ="programreqs" type = text name = "programreqs" rows = "10" required> </textarea>
    </div>
	  <!-- Screening Procedure -->
    <div class ="form-group border">
	    <label> Screening Procedure </label>
      <textarea class = "form-control"  id = "screeningprocedure"type = text name = "screeningprocedure" rows = "10" required> </textarea>
    </div>
	  
	  <!-- Referral Procedure -->
    <div class = "form-group border">
      <label> Referral Procedure </label>
      <textarea class = "form-control" id = "referralprocedure" height="100px" type = text name = "referralprocedure" rows = "10" required> </textarea>
    </div>


  <h3>Fiscal Year Data</h3>
  <div class = "container-fluid p-3 my-3 border"">
    <div class = "form-group border">
      <div class = "form-group">
        <label>Admissions
          <input class = "form-control" type= "number" id="fyadm" required>
        </label>
      </div>
      <div class = "form-group">
        <label>Completions
          <input class = "form-control" type= "number" id="fyacom" required>
        </label>
      </div>
      <div class = "form-group">
        <label>Terminations
          <input class = "form-control" type= "number" id="fyterm" required>
        </label>
      </div>
      <div class = "form-group">
        <label>Total Participants Served
          <input class = "form-control" type= "number" id="fytp" required>
        </label>
      </div>
    </div>
    <div class = "form-group border">
      <div class = "card">
        <label class ="card-header text-center font-weight-bold text-uppercase py-4">Funding</label>
        <div class = "card-body">
          <div id="fundtable" class = "table-editable">
            <span class = "table-add float-right mb-3 mr-2">
              <a href= "#!" class = "text-success">
                <i class = "fa fa-plus fa-2x" aria-hidden= "true" onclick= "add_row(document.getElementById('tbody'))"></i>
              </a>
            </span>
            <table id = "table-funding" class = "table table-bordered table-responsive-md table-striped text-center">
              <thead>
                <tr>
                  <th class = "text-center">
                      Funder
                  </th>
                  <th class = "text-center">
                      Amount
                  </th>
                  <th class = "text-center">
                      Purpose
                  </th>
                  <th class = "text-center">
                      Remove
                  </th>
                </tr>
              </thead>
              <tbody id = "tbody">
                <tr>
                  <td class = "pt-3-half" contenteditable = "true">
                    Social Service Agency
                  </td>
                  <td class = "pt-3-half" contenteditable = "true">
                    Therapy
                  </td>
                  <td id class = "pt-3-half" contenteditable = "true">
                    $50,000
                  </td>
                  <td id class = "pt-3-half" >
                    <span class = "table-remove">
                      <button type="button" id = "rm-row" class = "btn btn-danger btn-rounded btn-sm my-0" onclick="remove_this(this)">
                        Remove
                      </button>
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class = "card">
        <label class ="card-header text-center font-weight-bold text-uppercase py-4">Community Resources</label>
        <div class = "card-body">
          <div id="fundtable" class = "table-editable">
            <span class = "table-add float-right mb-3 mr-2">
              <a href= "#!" class = "text-success">
                <i class = "fa fa-plus fa-2x" aria-hidden= "true" onclick= "add_row(document.getElementById('tbody1'))"></i>
              </a>
            </span>
            <table id = "table-resources" class = "table table-bordered table-responsive-md table-striped text-center">
              <thead>
                <tr>
                  <th class = "text-center">
                      Community Resource Provider
                  </th>
                  <th class = "text-center">
                      Funding Source
                  </th>
                  <th class = "text-center">
                      Types of Services
                  </th>
                  <th class = "text-center">
                      Remove
                  </th>
                </tr>
              </thead>
              <tbody id = "tbody1">
                <tr>
                  <td class = "pt-3-half" contenteditable = "true" required>
                    Social Service Agency
                  </td>
                  <td class = "pt-3-half" contenteditable = "true" required>
                    Department of Children and Families
                  </td>
                  <td id class = "pt-3-half" contenteditable = "true" required>
                    Parenting Classes
                  </td>
                  <td id class = "pt-3-half">
                    <span class = "table-remove">
                      <button type="button" id = "rm-row" class = "btn btn-danger btn-rounded btn-sm my-0" onclick="remove_this(this)">
                        Remove
                      </button>
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

          <!-- Submission Button -->
          <div class = "form-group border">
            <button  id = "submitprof"class = "btn btn-light" name= "submit" type="submit">Submit Profile</button>
          </div>
      
  
	  
	  
    </fieldset>


</form>

 </body>
</html>

<script>
document.getElementById('submitter').addEventListener('submit',function(){
  alert("called")
  if ((chargemisd.checked ==false) && (chargefel.checked == false) && (chargena.checked == false)){
    alert("Please indicate the level of charges your court accepts");
    event.preventDefault();
            }
  if ((cppretrial.checked == false) && (cppreplea.checked == false) && (cppostplea.checked== false) && (cppreadj.checked == false) && (cppostadj.checked == false) && (cpna.checked == false)){
    alert("Please indicate how your court processes cases")
    event.preventDefault();
     }
  // add phone validations back (maybe zip too?)

  //start collected elems
  var  ccircuit = document.getElementById("c-circuit").value
  var  psctype = document.getElementById("PSC-type").value
  var  othertype = document.getElementById("othertype").value
  var  chargemisd = document.getElementById("chargemisd").value
  var  chargefel = document.getElementById("chargefel").value
  var  chargena = document.getElementById("chargena").value
  var  pretrial = document.getElementById("cppretrial").value
  var  preplea = document.getElementById("cppreplea").value
  var  postplea = document.getElementById("cppostplea").value
  var  preadj = document.getElementById("cppreadj").value
  var  postadj = document.getElementById("cppostadj").value
  var  casena = document.getElementById("cpna").value
  var impdate = document.getElementById("impdate").value
  var primname = document.getElementById('primname').value
  var primad = document.getElementById('primad').value
  var primcity = document.getElementById('primcity').value
  var primzip = document.getElementById("primzip").value
  var primphone = document.getElementById('primaryphone').value
  var primemail = document.getElementById('primemail').value
  var jname = document.getElementById('jname').value
  var jad = document.getElementById('jad').value
  var jcity = document.getElementById('jcity').value
  var jzip = document.getElementById('judgezip').value
  var jphone = document.getElementById('judgephone').value
  var jemail = document.getElementById('judgeemail').value
  var tyes = document.getElementById('transferyes').value
  var tno = document.getElementById("transferno").value
  var dname = document.getElementById("designeename").value
  var dad = document.getElementById("designeeaddress").value
  var dcity = document.getElementById('designeecity').value
  var dzip = document.getElementById("designeezipcode").value
  var dphone = document.getElementById("designeephone").value
  var demail = document.getElementById("designeeemail").value
  var dnull = document.getElementById('designeena').value
  var cname = document.getElementById("cocename").value
  var cad = document.getElementById("cocaddress").value
  var ccity = document.getElementById('coccity').value
  var czip = document.getElementById("coczip").value
  var cphone = document.getElementById("cocphone").value
  var cemail = document.getElementById("cocemail").value
  var cnull = document.getElementById('cocna').value
  var tcrit = document.getElementById('transfercriteria').value
  var elig =document.getElementById('eligibilitycriteria').value
  var pre1 = document.getElementById('programreqs').value
  var screen = document.getElementById('screeningprocedure').value
  var ref =document.getElementById("referralprocedure").value
  var adm= document.getElementById('fyadm').value
  var com= document.getElementById("fyacom").value
  var term= document.getElementById('fyterm').value
  var tpart = document.getElementById('fytp').value

  var req = new XMLHttpRequest();
  var reqstring = "circuit=" + ccircuit +"&courttype=" + psctype + "&othertype=" +othertype + "&chargemisd=" +chargemisd + 
  "&chargefel=" + chargefel +"&chargena=" + chargena + "&caseprocesspt=" +pretrial + "&caseprocesspp=" + preplea +
  "&caseprocesspostp=" + postplea + "&caseprocesspreadj=" + preadj + "&caseprocesspostadj=" + postadj +"&caseprocessna" + chargena +
  "&implementdate=" + impdate +"&primname=" + primname + "&primad=" + primad + "&primcity=" + primcity + "&primzip=" + primzip + 
  "&primphone=" + primphone + "&primemail=" + primemail + "&jname=" + jname + "&jad=" + jad + "&jcity=" + jcity +"&jzip=" + jzip + 
  "&jphone=" + jphone + "&jemail=" + jemail + "&tyes=" + tyes + "&tno=" + tno + "=dname=" +dname + "&dad=" + dad +"&dcity=" + dcity + 
  "&dzip=" + dzip + "&dphone=" + dphone + "&demail=" + demail + "&dna=" + dnull + "&cname=" + cname + "&cad=" + cad +
  "&ccity=" + ccity + "&czip=" + czip + "&cphone=" + cphone +"&cemail=" + cemail + "&cna=" + cnull + 
  "&transfercrit=" + tcrit + "&elig=" + elig + "&preq=" + preq + "&screen=" + screen + "&referral=" + ref +
  "&admn=" + adm + "&com=" + com + "&term=" + term + "&part=" + tpart


  var query = "http://localhost:8081/submit?" + reqstring 
  req.open("GET",query,true)
  req.addEventListener("load",function(){
    if (req.status >= 200 && req.status < 400){
      console.log("sucess?")
    }
    req.send()
    console.log("request sent")
  })
});
  
</script>